# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура

## Интерфейс для описания одной идиницы товара

export interface IProduct {
id: string;
title: string;
price: number | null;
description: string;
category: string;
image: string;
}

## Интерфейс для описания корзины

export interface IBasket {
items: string[];
total: number;
}

## Интерфейс описания заказа

export interface IOrder {
payment: PaymentMethod;
email: string;
phone: string;
address: string;
total: number;
items: string[];
}

## Вспомогательные интрефейсы для работы с формами

export type OrderForm = Omit<IOrder, 'total' | 'items'>;
export type OrderField = {
field: keyof OrderForm;
value: string
}
export interface IOrderResult {
id: string;
total: number;
}

## класс AppData

Для хранеия данных, который хранит все данные приложения
данный класс хранит массив всех продуктов, корзину, данные о заказе которые заполняет пользователь
и товар который открываеться в отдельном окно
export class AppData {
items: IProduct[] = [];
basket: IBasket = {
items: [],
total: 0
};
preview: IProduct = null;
order: IOrder = {
payment: 'card',
email: '',
phone: '',
address: '',
items: [],
total: 0
}

    formErrors: Partial<Record<keyof OrderForm, string>> = {};

## LarekAPI класс для аработы с данными

явл дочерним от класс api
в данном классе реализовали три метода

- позволяет получить массив продуктов с сервера
- получает один продукт с сервера
- отправляетб на сервер заказ

## Класс Component

Базовый класс для работы с HTML.
Класс предоставляет методы для управления элементами DOM: переключение классов, управление видимостью, изменение текста и изображений, а также блокировка элементов. Основной метод render используется для отображения данных в компоненте, обновления его состояния и возврата ссылки на элемент DOM для дальнейшего взаимодействия.

## Класс Form

Form — базовый класс для работы с HTML-формами. Обрабатывает ввод данных, проверку, установку ошибок и отправку формы. При изменении полей генерирует события (например, contacts:submit или order:submit). Основной метод render отображает состояние формы, включая ошибки и валидность.

## Класс Modal

Класс Modal управляет модальным окном, предоставляя методы для его открытия, закрытия и рендеринга содержимого.

## Класс Card

Класс Card отвечает за отображение информации о товаре в карточке, заполняя соответствующие поля (\_title, \_price, \_image и др.) на основе данных товара.

## Класс View

Класс View расширяет функциональность Component, добавляя работу с брокером событий IEvents, что позволяет компоненту генерировать и обрабатывать события.

## Класс Api

Класс Api предоставляет базовую логику для отправки HTTP-запросов, включая методы для выполнения запросов GET и POST.

## Класс EventEmmiter

Позволяет отправлять события и подписываться на них, обеспечивая взаимодействие между уровнем данных и пользовательским интерфейсом.

## IProduct

Интерфейс IProduct предназначен для хранения информации о продуктах, получаемой с сервера.

## IBasket

Интерфейс IBasket исползуется для хранения данных о товрах, находящихся в корзине.

## IOrder

Интерфейс IOrder служит для хранения данных, которые будут отправлены на сервер при оформлении заказа.

## IOrderResult

Интерфейс IOrderResult используется для хранения данных полученных с сервера после оформления заказа.

## IPage

Интерфейс для управления web-страницей

## IModalData

Интерфейс содержимого модального окна.

## ICardActions

Интерфейс обработчика событий `onClick` для карточек на странице.

## Класс Success

Отвечает за отображение содержимого окна успешного выполнения заказа.
